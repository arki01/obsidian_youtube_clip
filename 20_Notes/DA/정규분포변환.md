---
Created: 2023-11-08 22:33
tags:
  - AI/머신러닝
aliases:
---

# 개요
데이터변환 중 하나의 방법으로 왜도나 첨도가 0이 아닌 비대칭성을 가질때 정규분포로 변환하는 방법으로 로그변환을 사용한다.

# 내용
### 정의
- 왜도가 0이 아닌 경우 한쪽으로 치우쳐 있으며, 이 분포에서는 중심 경향 측정값(평균, 중앙값, 최빈값)이 동일하지 않다.
- 데이터분석 필요시 필요에 따라 기존의 데이터의 분포형태를 변경해야하는 경우가 있다.
#### 왜도

비대칭도(非對稱度, skewness) 또는 왜도(歪度)는 **실수 값 확률 변수의 확률 분포 비대칭성을 나타내는 지표**이다. 왜도의 값은 양수나 음수가 될 수 있으며 정의되지 않을 수도 있다. 왜도가 음수일 경우에는 확률밀도함수의 왼쪽 부분에 긴 꼬리를 가지며 중앙값을 포함한 자료가 오른쪽에 더 많이 분포해 있다. 왜도가 양수일 때는 확률밀도함수의 오른쪽 부분에 긴 꼬리를 가지며 자료가 왼쪽에 더 많이 분포해 있다는 것을 나타낸다. 평균과 중앙값이 같으면 왜도는 0이 된다.
#### 첨도
확률분포의 꼬리가 두꺼운 정도를 나타내는 척도이다. 극단적인 편차 또는 이상치가 많을 수록 큰 값을 나타낸다. 첨도값(K)이 3에 가까우면 산포도가 정규분포에 가깝다. 3보다 작을 경우에는(K<3) 산포는 정규분포보다 꼬리가 얇은 분포로 생각할 수 있다, 첨도값이 3보다 큰 양수이면(K>3) 정규분포보다 꼬리가 두꺼운 분포로 판단할 수 있다.

### 분석방법
- 최초 데이터 왜도 계산
  : 두 변수는 양과 음의 왜도를 가진다는 것을 확인하였다.
~~~ Python
	df = pd.read_csv("http://raw.githubusercontent.com/vincentarelbundock/Rdatasets/master/csv/datasets/USJudgeRatings.csv")
	df.head(5)
	
	import scipy.stats as ss
	
	# 지정한 컬럼의 왜도 계산
	print(ss.skew(df["CONT"]))
	print(ss.skew(df["PHYS"]))
~~~

~~~
	1.0859724796276253 
	-1.5582154642293153
~~~ 
- log() 변환
  : 로그 변환을 통하여 해당 분포를 중심 경향 형태의 값들로 변환한다.
	~~~ Python
		# 변수 변환 - log() 변환
		df["CONT1"] = np.log(df["CONT"]) # 왜도가 양수일 경우
		df["PHYS1"] = np.log(np.max(df["PHYS"]+1) - df["PHYS"]) # 왜도가 음수일 경우
		
		# 왜도 계산
		print(ss.skew(df["CONT1"]))
		print(ss.skew(df["PHYS1"]))
	~~~

	 ~~~
		0.6555571886692603
		0.5824357748750443
	~~~ 

### 예제

#### 정규분포 스케일링을 통한 왜도와 첨도 구하기
-  주어진 데이터 중 train.csv에서 'SalePrice'컬럼의 왜도와 첨도를 구한 값과, 'SalePrice'컬럼을 스케일링(log1p)로 변환한 이후 왜도와 첨도를 구해 모두 더한 다음 소수점 2째자리까지 출력하시오
- 데이터셋 : House Prices - Advanced Regression Technique (https://www.kaggle.com/c/house-prices-advanced-regression-techniques)
- 오른쪽 상단 copy&edit 클릭 -> 예상문제 풀이 시작
- 강의 영상 : https://youtu.be/_ft7ZlDlk7c

~~~ python
# 라이브러리 및 데이터 불러오기
import pandas as pd
import numpy as np

df = pd.read_csv("../input/house-prices-advanced-regression-techniques/train.csv")
df['SalePrice'].head()
~~~

~~~ python
# 'SalePrice'컬럼 왜도와 첨도계산 
s1 = df['SalePrice'].skew()
k1 = df['SalePrice'].kurt()
print("왜도:", s1)
print("첨도:", k1)
~~~

~~~
왜도: 1.8828757597682129
첨도: 6.536281860064529
~~~

~~~ python
# 'SalePrice'컬럼 로그변환
df['SalePrice'] = np.log1p(df['SalePrice'])
~~~

~~~ python
# 'SalePrice'컬럼 왜도와 첨도계산 
s2 = df['SalePrice'].skew()
k2 = df['SalePrice'].kurt()
print("왜도:", s2)
print("첨도:", k2)
~~~

~~~
왜도: 0.12134661989685333
첨도: 0.809519155707878
~~~

# 출처


# 관련 노트


# 외부 링크

